from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes
import os

TOKEN = '7291732021:AAFhKuOkHHLrWp99cfRN6pnIQ4mwg22iEec'
WEBHOOK_URL = 'https://telegrambot-patrem39.amvera.io'

REVIEWS_LINK = 'https://t.me/remizov_otziv'

PRODUCTS = {
    'tgpn': ("–¢–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∞ –ø–æ –∏–∑—É—á–µ–Ω–∏—é –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π", 
             "–ó–∞–ø—É—â–µ–Ω–∞, –º–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –¥–æ 15 –∞–≤–≥—É—Å—Ç–∞ 2024. "
             "–¢–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∞ –ø–æ –∏–∑—É—á–µ–Ω–∏—é –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π - –≥—Ä—É–ø–ø–∞, –≥–¥–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤ –Ω–µ–±–æ–ª—å—à–æ–º –∫—Ä—É–≥—É –∏–∑—É—á–∞—é—Ç —Å–≤–æ–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, "
             "–ø—Ä–æ—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –±–ª–æ–∫–∏ –∫ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–ª—É—á–∞—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ –ø–æ–º–æ–≥–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É –≤ –ø–æ–∏—Å–∫–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –∂–∏–∑–Ω—å –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π. "
             "–°—Ç–æ–∏–º–æ—Å—Ç—å 30 000 —Ä—É–±–ª–µ–π.", "https://t.me/m/DknxCycKMzFi"),
    'ss': ("–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è —Å–µ—Å—Å–∏—è", 
           "–ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∞—à–µ–π –ø—Å–∏—Ö–∏–∫–∏, –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º –≤–∞—à–∏ –≥–ª—É–±–∏–Ω–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è –∏ —Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –º–µ—à–∞–µ—Ç –≤–∞–º –∏—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å. "
           "–° –ø–æ–ª—É—á–∏–≤—à–∏–º—Å—è —Å–ø–∏—Å–∫–æ–º –æ—Ç–ø—Ä–∞–≤–ª—è—é –ª–∏–±–æ –≤ –ª–∏—á–Ω—É—é —Ä–∞–±–æ—Ç—É, –ª–∏–±–æ –∫ –¥—Ä—É–≥–æ–º—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç (–≤—Ä–∞—á, —Ç—Ä–µ–Ω–µ—Ä, –ø—Å–∏—Ö–∏–∞—Ç—Ä, –¥—Ä—É–≥–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥ –∏–ª–∏ –∫—Ç–æ-—Ç–æ –µ—â—ë). "
           "–°—Ç–æ–∏–º–æ—Å—Ç—å - 7000 —Ä—É–±–ª–µ–π.", "https://t.me/m/wj50gp_vOTFi"),
    'lw': ("–õ–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞", 
           "–ì–ª—É–±–∏–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –≤–∞—à–µ–π –ø—Å–∏—Ö–∏–∫–æ–π –≤ —Ç–µ—á–µ–Ω–∏–µ 3-6 –º–µ—Å—è—Ü–µ–≤, –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –≥–ª—É–±–∏–Ω–Ω—ã—Ö —Ç—Ä–∞–≤–º –∏ –Ω–µ–≤—Ä–æ–∑–æ–≤. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º—ã—Ö –≤–æ–ª–Ω—É—é—â–∏—Ö –∏ –≤–∞–∂–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏. "
           "–û—Ç 60 –¥–æ 120 –º–∏–Ω—É—Ç –∫–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è, —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—è—Ü–µ–≤. –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è —Å–µ—Å—Å–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –°—Ç–æ–∏–º–æ—Å—Ç—å - –û—Ç 40 –¥–æ 200 —Ç—ã—Å—è—á —Ä—É–±–ª–µ–π.", 
           "https://t.me/m/HGjDH0znYzdi"),
    'wd': ("–í–æ—Ä–∫—à–æ–ø \"–ò—Å—Ç–∏–Ω–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è\"", 
           "–í–æ—Ä–∫—à–æ–ø –æ —Ç–æ–º, –∫–∞–∫ –Ω–∞–π—Ç–∏ —Å–≤–æ–∏ –∏—Å—Ç–∏–Ω–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è. –í—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç –ê –¥–æ –Ø. –ì–æ—Ç–æ–≤—ã–π –ø–ª–∞–Ω —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏. "
           "–°—Ç–æ–∏–º–æ—Å—Ç—å - 3000 —Ä—É–±–ª–µ–π.", "https://t.me/m/4s936WzOZDRi"),
    'ps': ("–õ–∏—á–Ω–∞—è —Å–µ—Å—Å–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π", 
           "–í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –∑–∞–º–µ—Ç–∏–ª, —á—Ç–æ –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –ª—é–¥–µ–π –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –º–æ–≥—É—Ç –∑–∞ —Ä—É—á–∫—É –¥–æ–π—Ç–∏ –¥–æ –Ω–∏—Ö –≤–º–µ—Å—Ç–µ —Å–æ –º–Ω–æ–π. "
           "–í–æ—Ç —Ç–æ–≥–¥–∞-—Ç–æ –ø–∞–∑–∑–ª –∏ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç –ø–æ—Ä–∞ \"–∏–Ω—Å–∞–π—Ç–æ–≤\". –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —Ä–∞–∑–¥–µ–ª—è—é—â–∏–º –Ω–∞ \"–¥–æ\" –∏ \"–ø–æ—Å–ª–µ\". "
           "–§–æ—Ä–º–∞—Ç: 90 –º–∏–Ω—É—Ç. 30 –º–∏–Ω—É—Ç —Ç–µ–æ—Ä–∏–∏ + 60 –º–∏–Ω—É—Ç –ø–æ–∏—Å–∫–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π + –¥–∞–ª—å–Ω–µ–π—à–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. –°—Ç–æ–∏–º–æ—Å—Ç—å - 7000 —Ä—É–±–ª–µ–π.", 
           "https://t.me/m/8e4Do0ZjNTFi")
}

UPCOMING_PRODUCTS = {
    'npr': ("–í–æ—Ä–∫—à–æ–ø \"–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è\"", 
            "–ò—é–ª—å. –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è –≥–ª—É–±–æ–∫–æ –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–º–∏, –ø–æ–ª–Ω—ã–º–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è, –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ –∏ –ª—é–±–≤–∏ —á–µ—Ä–µ–∑ —Ä–∞–±–æ—Ç—É —Å –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º–∏. "
            "(–í–æ—Ä–∫—à–æ–ø –¥–ª—è –ø–∞—Ä –∏ –æ–¥–∏–Ω–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ –∏–º –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö). "
            "–°—Ç–æ–∏–º–æ—Å—Ç—å - 4000 —Ä—É–±–ª–µ–π –ø–∞—Ä–∞, 3000 —Ä—É–±–ª–µ–π —Å–æ–ª–æ.", "https://t.me/+AJHfJgS03LxlOWNi"),
    'npd': ("–í–æ—Ä–∫—à–æ–ø \"–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ –¥–µ–Ω—å–≥–∏\"", 
            "–ê–≤–≥—É—Å—Ç. –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å —Å–≤–æ–π –¥–æ—Ö–æ–¥ —á–µ—Ä–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π —Å–µ–±—è –∏ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π. –ö–∞–∫ –∏–º–µ–Ω–Ω–æ —Å–≤—è–∑–∞–Ω—ã –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ –¥–µ–Ω—å–≥–∏. "
            "–ö–∞–∫ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –Ω–∞—Å –±–æ–ª—å—à–µ —Ç—Ä–∞—Ç–∏—Ç—å –∏ –∫–∞–∫ –º–æ–≥—É—Ç –ø–æ–º–æ—á—å –±–æ–ª—å—à–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å. –°—Ç–æ–∏–º–æ—Å—Ç—å - 3000 —Ä—É–±–ª–µ–π.", 
            "https://t.me/+M-R3xxeNrtE2OTYy"),
    'npc': ("–í–æ—Ä–∫—à–æ–ø \"–ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–ª–∏\"", 
            "–ê–≤–≥—É—Å—Ç. –ö–∞–∫ —Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ 100% —Å–±—É–¥—É—Ç—Å—è, –∞ —Ç–≤–æ—ë —Ç–µ–ª–æ –∏ –±–µ—Å—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ –±—É–¥—É—Ç —Ç–µ–±–µ –ø–æ–º–æ–≥–∞—Ç—å –≤ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. "
            "–°—Ç–æ–∏–º–æ—Å—Ç—å - 3000 —Ä—É–±–ª–µ–π.", "https://t.me/+ljvOFnQOEVgzYTUy"),
    'rw': ("–í–æ—Ä–∫—à–æ–ø \"–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–¥—ã—Ö–∞—Ç—å\"", 
           "–°–µ–Ω—Ç—è–±—Ä—å. –ö–∞–∫ —á–µ—Ä–µ–∑ –ø—Ä–∏–∑–º—É –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –Ω–∞—É—á–∏—Ç—å—Å—è –≥—Ä–∞–º–æ—Ç–Ω–æ —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∏ –æ—Ç–¥—ã—Ö–∞—Ç—å. "
           "–°—Ç–æ–∏–º–æ—Å—Ç—å - 3000 —Ä—É–±–ª–µ–π.", "https://t.me/+Ut6wiTMlbsgwZGYy"),
    'pt': ("–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ 2-—Ö –º–µ—Å—è—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ", 
           "–ü–æ –Ω–∞–±–æ—Ä—É –≥—Ä—É–ø–ø—ã. –ì—Ä—É–ø–ø–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ, –≥–¥–µ —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é –æ–±–æ –≤—Å–µ—Ö —Å–∞–º—ã—Ö –ø–µ—Ä–µ–¥–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —É –º–µ–Ω—è, –∏ –æ–±—É—á–∞—é –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Å —Å–æ–±–æ–π –∏ –¥—Ä—É–≥–∏–º–∏. "
           "–°—Ç–æ–∏–º–æ—Å—Ç—å - 70 000 —Ä—É–±–ª–µ–π.", "https://t.me/+t3J4szFd4_kyODIy"),
    'ck': ("–ó–∞–∫—Ä—ã—Ç—ã–π –∫–ª—É–± –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π", 
           "–ü–æ –Ω–∞–±–æ—Ä—É 50 –∑–∞—è–≤–æ–∫. –ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö –º–Ω–æ–π —Ç—Ä–µ–Ω–∏–Ω–≥–æ–≤ –∏ –≤–æ—Ä–∫—à–æ–ø–æ–≤ –∑–∞ 8 –ª–µ—Ç –≤ –¥–æ—Å—Ç—É–ø–µ, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ —ç—Ñ–∏—Ä—ã, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –æ—Å–æ–±–µ–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π - –∫–æ—Ç–æ—Ä—É—é –º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å —Ç–µ, –∫—Ç–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è –≤ –≤–æ–ø—Ä–æ—Å–µ –Ω–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ã–≤–∞—Ç–µ–ª—è. "
           "–°—Ç–æ–∏–º–æ—Å—Ç—å: 1500 —Ä—É–±–ª–µ–π.", "https://t.me/+onfbgGd-aK0xMDNi"),
    'gnp': ("–í—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ –≥—Ä—É–ø–ø—ã –ø–æ –∏–∑—É—á–µ–Ω–∏—é —Å–≤–æ–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π", 
            "–ü–æ –Ω–∞–±–æ—Ä—É –≥—Ä—É–ø–ø—ã. –ß–µ—Ç—ã—Ä–µ—Ö–º–µ—Å—è—á–Ω–æ–µ –≥–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —Ç–µ–º—É —Å–≤–æ–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–µ–±—è –∏ –¥—Ä—É–≥–∏—Ö —á–µ—Ä–µ–∑ –ø—Ä–∏–∑–º—É –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π. "
            "–¢–µ–æ—Ä–∏—è, –ø—Ä–∞–∫—Ç–∏–∫–∞, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∂–∏–∑–Ω—å. –û–¥–∏–Ω —Å–æ–∑–≤–æ–Ω –≤ –Ω–µ–¥–µ–ª—é, –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è, —Ä–∞–±–æ—Ç–∞ –≤ –ø–∞—Ä–∞—Ö. "
            "–°—Ç–æ–∏–º–æ—Å—Ç—å - 40 000 —Ä—É–±–ª–µ–π.", "https://t.me/+zGIETstU0V5lYzYy"),
    'msp': ("–ó–∞–ø–∏—Å–∏ –º–µ–¥–∏—Ç–∞—Ü–∏–π –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∏", 
            "–ü–æ –Ω–∞–±–æ—Ä—É –≥—Ä—É–ø–ø—ã. –ù–∞–±–æ—Ä –º–µ–¥–∏—Ç–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —è –æ–±—ã—á–Ω–æ –¥–µ–ª–∞—é –∫–ª–∏–µ–Ω—Ç–∞–º, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã. "
            "–ú–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ. –†–∞–∑–±–∏—Ç—ã –ø–æ —Ç–µ–º–∞–º: –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –æ–±–∏–¥, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, —Å–∞–º–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ç.–ø. –ú–µ–¥–∏—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º. –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ - –≤–µ—á–Ω—ã–π –¥–æ—Å—Ç—É–ø. "
            "–°—Ç–æ–∏–º–æ—Å—Ç—å - 7000 —Ä—É–±–ª–µ–π.", "https://t.me/+oqPUqnNDinZlOTky"),
    'ppb': ("–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–∞–∫—Ç–∏–∫—É–º \"–ë–∞–∑–∞\"", 
            "–ü–æ –Ω–∞–±–æ—Ä—É –≥—Ä—É–ø–ø—ã. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ç–µ–æ—Ä–∏—è –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Å–∏—Ö–∏–∫–∞ —á–µ–ª–æ–≤–µ–∫–∞, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã —Ç—Ä–∞–≤–º—ã, –∫–∞–∫ –æ–Ω–∏ –ª–µ—á–∞—Ç—Å—è –∏ —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. "
            "–°—Ç–æ–∏–º–æ—Å—Ç—å 2000 —Ä—É–±–ª–µ–π.", "https://t.me/+LDNsYAd0W7ExOTYy"),
    'vcc': ("–ë–æ–ª—å—à–æ–π –∫—É—Ä—Å –ø–æ —Ü–µ–Ω–Ω–æ—Å—Ç—è–º", 
            "–ü–æ –Ω–∞–±–æ—Ä—É –≥—Ä—É–ø–ø—ã. –ë—ã–≤—à–∏–π –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π \"–ë–î–¢\". –°—Ç–æ–∏–º–æ—Å—Ç—å 7000 —Ä—É–±–ª–µ–π.", "https://t.me/+qhTi_PpWbWwwNmMy")
}

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    keyboard = [
        [InlineKeyboardButton("–ò–Ω—Ñ–∞ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ–π—á–∞—Å –ø—Ä–æ–µ–∫—Ç–∞—Ö", callback_data='projects')],
        [InlineKeyboardButton("–ò–Ω—Ñ–∞ –æ –≥–æ—Ç–æ–≤—è—â–∏—Ö—Å—è –ø—Ä–æ–¥—É–∫—Ç–∞—Ö", callback_data='upcoming')],
        [InlineKeyboardButton("–õ—É—á—à–∏–µ —Å—Ç–∞—Ç—å–∏ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)", callback_data='best_articles')],
        [InlineKeyboardButton("–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)", callback_data='free_products')],
        [InlineKeyboardButton("–û—Ç–∑—ã–≤—ã", url=REVIEWS_LINK)]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    if update.message:
        await update.message.reply_text('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ä–∞–∑–¥–µ–ª–æ–≤:', reply_markup=reply_markup)
    elif update.callback_query:
        await update.callback_query.edit_message_text('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ä–∞–∑–¥–µ–ª–æ–≤:', reply_markup=reply_markup)

async def button(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    query = update.callback_query
    await query.answer()
    data = query.data

    if data == 'projects':
        keyboard = [[InlineKeyboardButton(PRODUCTS[code][0], callback_data=f'product_{code}')] for code in PRODUCTS.keys()]
        keyboard.append([InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back_to_main')])
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(text="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ–π—á–∞—Å –ø—Ä–æ–µ–∫—Ç–∞—Ö:", reply_markup=reply_markup)
    
    elif data == 'upcoming':
        keyboard = [[InlineKeyboardButton(UPCOMING_PRODUCTS[code][0], callback_data=f'upcoming_{code}')] for code in UPCOMING_PRODUCTS.keys()]
        keyboard.append([InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back_to_main')])
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(text="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ—Ç–æ–≤—è—â–∏—Ö—Å—è –ø—Ä–æ–¥—É–∫—Ç–∞—Ö:", reply_markup=reply_markup)
    
    elif data == 'best_articles' or data == 'free_products':
        await query.edit_message_text(text="–≠–π, –ø–∏—Ä–æ–∂–æ–∫, –Ω–µ –≤—Å—ë —Å—Ä–∞–∑—É, –º–Ω–µ –Ω—É–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã –¥–æ–¥–µ–ª–∞—Ç—å —ç—Ç–æ. –Ø —Ç—É—Ç –≤—Å—ë –¥–µ–ª–∞—é –ø–æ–∫–∞ —Å–≤–æ–∏–º–∏ —Ä—É—á–∫–∞–º–∏ ü§öü§ö (–æ–±–µ –ª–µ–≤—ã–µ)", reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='back_to_main')]]))
    
    elif data == 'reviews':
        await query.edit_message_text(text="–û—Ç–∑—ã–≤—ã:")  # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –æ—Ç–∑—ã–≤–∞—Ö –∏ –∫–Ω–æ–ø–∫–∏
    
    elif data.startswith('product_'):
        code = data[len('product_'):]
        product_name, product_info, sign_up_link = PRODUCTS[code]
        keyboard = [
            [InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='projects')],
            [InlineKeyboardButton("–ó–∞–ø–∏—Å–∞—Ç—å—Å—è", url=sign_up_link)]
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(text=f"{product_name}\n\n{product_info}", reply_markup=reply_markup)

    elif data.startswith('upcoming_'):
        code = data[len('upcoming_'):]
        product_name, product_info, sign_up_link = UPCOMING_PRODUCTS[code]
        keyboard = [
            [InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data='upcoming')],
            [InlineKeyboardButton("–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥—Å–ø–∏—Å–æ–∫", url=sign_up_link)]
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(text=f"{product_name}\n\n{product_info}", reply_markup=reply_markup)

    elif data == 'back_to_main':
        await start(update, context)

def main() -> None:
    app = Application.builder().token(TOKEN).build()

    app.add_handler(CommandHandler('start', start))
    app.add_handler(CallbackQueryHandler(button))

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–µ–±—Ö—É–∫
    app.run_webhook(listen="0.0.0.0",
                    port=int(os.environ.get('PORT', '8443')),
                    url_path=TOKEN,
                    webhook_url=f"{WEBHOOK_URL}/{TOKEN}")

if __name__ == '__main__':
    main()
